{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/app/%28dashboard%29/trabajadores/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from 'react'\nimport { Trabajador } from '@/types'\n\nexport default function TrabajadoresPage() {\n  const [trabajadores, setTrabajadores] = useState<Trabajador[]>([])\n  const [formData, setFormData] = useState({\n    nombre: '',\n    cargo: '',\n    rut: '',\n    email: '',\n    telefono: ''\n  })\n\n  useEffect(() => {\n    loadTrabajadores()\n  }, [])\n\n  const loadTrabajadores = async () => {\n    try {\n      const response = await fetch('/api/trabajadores')\n      const result = await response.json()\n      \n      // Handle both direct array and wrapped response formats\n      const data = result.data || result\n      setTrabajadores(Array.isArray(data) ? data : [])\n    } catch (error) {\n      console.error('Error loading trabajadores:', error)\n      setTrabajadores([]) // Fallback to empty array\n    }\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    try {\n      await fetch('/api/trabajadores', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(formData)\n      })\n      setFormData({ nombre: '', cargo: '', rut: '', email: '', telefono: '' })\n      loadTrabajadores()\n    } catch (error) {\n      console.error('Error creating trabajador:', error)\n    }\n  }\n\n  const handleDelete = async (id: number) => {\n    try {\n      await fetch(`/api/trabajadores?id=${id}`, { method: 'DELETE' })\n      loadTrabajadores()\n    } catch (error) {\n      console.error('Error deleting trabajador:', error)\n    }\n  }\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n      <div className=\"bg-white shadow-md rounded-lg p-6\">\n        <h1 className=\"text-2xl font-bold mb-6\">Gestión de Trabajadores</h1>\n        \n        <form onSubmit={handleSubmit} className=\"mb-6 space-y-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <input\n              type=\"text\"\n              placeholder=\"Nombre completo\"\n              value={formData.nombre}\n              onChange={(e) => setFormData({...formData, nombre: e.target.value})}\n              className=\"border rounded px-3 py-2\"\n              required\n            />\n            <input\n              type=\"text\"\n              placeholder=\"Cargo\"\n              value={formData.cargo}\n              onChange={(e) => setFormData({...formData, cargo: e.target.value})}\n              className=\"border rounded px-3 py-2\"\n              required\n            />\n            <input\n              type=\"text\"\n              placeholder=\"RUT\"\n              value={formData.rut}\n              onChange={(e) => setFormData({...formData, rut: e.target.value})}\n              className=\"border rounded px-3 py-2\"\n              required\n            />\n            <input\n              type=\"email\"\n              placeholder=\"Email\"\n              value={formData.email}\n              onChange={(e) => setFormData({...formData, email: e.target.value})}\n              className=\"border rounded px-3 py-2\"\n            />\n            <input\n              type=\"text\"\n              placeholder=\"Teléfono\"\n              value={formData.telefono}\n              onChange={(e) => setFormData({...formData, telefono: e.target.value})}\n              className=\"border rounded px-3 py-2\"\n            />\n          </div>\n          <button type=\"submit\" className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\">\n            Agregar Trabajador\n          </button>\n        </form>\n\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full divide-y divide-gray-200\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Nombre</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Cargo</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">RUT</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Email</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Acciones</th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {Array.isArray(trabajadores) && trabajadores.length > 0 ? (\n                trabajadores.map((trabajador) => (\n                  <tr key={trabajador.id}>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">{trabajador.nombre}</td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">{trabajador.cargo}</td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">{trabajador.rut}</td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">{trabajador.email || '-'}</td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <button\n                        onClick={() => handleDelete(trabajador.id)}\n                        className=\"bg-red-500 text-white px-2 py-1 rounded text-sm hover:bg-red-600\"\n                      >\n                        Eliminar\n                      </button>\n                    </td>\n                  </tr>\n                ))\n              ) : (\n                <tr>\n                  <td colSpan={5} className=\"px-6 py-4 text-center text-gray-500\">\n                    No hay trabajadores registrados\n                  </td>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}